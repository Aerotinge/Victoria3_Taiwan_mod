namespace = claim_china

# Claim China
claim_china.1 = {
	type = country_event
	placement = ROOT

	title = claim_china.1.t
	desc = claim_china.1.d
	flavor = claim_china.1.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	trigger = {
	}

	immediate = {
		c:CHI = {
			save_scope_as = china_scope
		}
	}

	option = { # claim China
		name = claim_china.1.a
		ai_chance = {
			base = 1
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_north_china
					region = sr:region_south_china
					region = sr:region_manchuria
				}
			}
			this = {
				add_claim = ROOT 
			}
		}
		add_primary_culture = cu:han
		every_primary_culture = { 
			limit = {
				has_discrimination_trait = han_chinese 
				NOT = { this = cu:han }
			}
			ROOT = {
				remove_primary_culture = PREV
			}
		}
	}
	option = { # perhaps another time
		name = claim_china.1.c
		default_option = yes
		ai_chance = {
			base = 0
		}
		remove_variable = claim_china_var
	}
}

# Unclaim China
claim_china.2 = {
	type = country_event
	placement = ROOT

	title = claim_china.2.t
	desc = claim_china.2.d
	flavor = claim_china.2.f

	duration = 3

	event_image = {
		video = "gfx/event_pictures/unspecific_signed_contract.bk2"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/unspecific/signed_contract"

	icon = "gfx/interface/icons/event_icons/event_map.dds"

	trigger = {
	}

	immediate = {
		c:CHI = {
			save_scope_as = china_scope
		}
	}

	option = { # unclaim China
		name = claim_china.2.a
		ai_chance = {
			base = 0
		}
		every_state_region = {
			limit = {
				OR = {
					region = sr:region_north_china
					region = sr:region_south_china
					region = sr:region_manchuria
				}
			}
			this = {
				remove_claim = ROOT 
			}
		}
		add_primary_culture = cu:min
		remove_primary_culture = cu:han
		remove_variable = claim_china_var
		remove_variable = unclaim_china_var
	}
	option = { # perhaps another time
		name = claim_china.2.c
		default_option = yes
		ai_chance = {
			base = 1
		}
		remove_variable = unclaim_china_var
	}
}